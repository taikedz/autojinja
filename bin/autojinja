#!/usr/bin/python

from autojinja import process_template
import sys

if len(sys.argv) < 2:
    print("Supply a template file to process")
    sys.exit(1)

template_file = sys.argv[1]

if len(sys.argv) < 3:
    # No extra arguments supplied, user is querying the template
    # This will raise its own error
    sys.argv = [""]
    process_template(template_file, [])
    exit()

# Remove the executable and the template from the command list so it does not appear in the help
sys.argv = [""] + sys.argv[2:]

print( process_template(template_file, sys.argv[1:]) ) # From 1, because we walloped an argument
